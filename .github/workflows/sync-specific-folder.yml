name: sync-specific-folder
run-name: ${{ github.actor }} is running sync folder
on:
  push:
    branches:
      - main
    paths:
      - templates/**
  # pull_request_target:
  #   branches:
  #     - main
  #   types: [labeled]
  #   paths:
  #     - templates/**
jobs:
  sync-branch:
    if: ${{  github.event.pull_request.head.ref  == 'sync-branch' }}
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Setup node
      uses: actions/setup-node@v3
      with:
        node-version: 16.13.x
        cache: npm
    - name: sync branch
      run: |
          git checkout sync-branch
          git checkout -- templates # Reset the templates folder to the state of the 'theme' branch
          git checkout main
          git checkout -- templates # Update the templates folder from the 'theme' branch
          git add templates
          git commit -m "Update templates folder in theme1 branch"
          git push origin sync-branch
